# 구조체와 클래스

## 구조체

구조체는 아주 옛날부터 존재했던 개념.

객체 지향이라는 개념이 없을때 객체를 정의하기 위해서 구조체를 사용했다.
구조체는 변수와 함수로 이루어져 있다.

코드 앞에 접근제한자를 붙이고 struct를 이용해서 정의한다.

구조체의 경우 생성자를 사용하게 되면 몇가지 제약조건이 생기게된다.
매개변수가 없는 생성자를 만들 수 없고, 생성자를 생성하게 되면 필드가 모두 할당이 되어 있어야한다.

![image](https://user-images.githubusercontent.com/65186857/173242358-fd86766f-3b37-45e4-b836-9bae7d2e1586.png)
![image](https://user-images.githubusercontent.com/65186857/173242361-104d94cf-16e8-4986-a91a-5f217d9faa77.png)

이런식으로 사용할 수 없다는 것이다. 이런 경우는 차라리 생성자를 사용하지 않으면 int, string의 기본값으로 초기화가 된다.

그리고 구조체의 경우 상속이라는 개념이 없다. 상속은 클래스가 만들어진 다음에 생긴 개념이기 때문에 클래스 이전에 새긴 구조체의 경우 상속이라는 개념이 없다.

🛑 가장 중요한점은 구조체의 경우 스택 메모리에 할당 된다는 것이다.
그래서 생성을 하면 초기값을 설정을 해야하는 것이다.


## 클래스

클래스는 구조체가 생기고 구조체에서 할 수 없는 것들이 생기면서 족므 더 코드를 쉽게 작성할 수 있게 만들어진 개념이다.

객체지향이라는 개념이 생기면서 함께 생긴 개념으로 자식 클래스와 부모 클래스의 개념이 생기고 상속이란느 아주 유용한 긴믕이 생기게 된것이 클래스이다.

여기서 상속이란 부모 클래스의 성질을 자식 클래스가 물려 받고 또 다른 성질을 표현하는 것을 의미한다.

예를 들어서 동물이라는 클래스가 있고, 이 동물이라는 클래스를 상속 받아서 코끼리 클래스, 사자 클래스, 원숭이 클래스와 같이 다양한 클래스를 만들 수 있다.

🛑 가장 중요한 점은 클래스는 구조체와 다르게 힙 메모리 영역에 할당이 되고 해당 클래스가 할당된 힙 메모리의 주소가 스택 메모리에 추가가 된다. 즉 메모리의 주소와 실제 메모리가 다르다는 것이다.

### 클래스를 사용해야 하는 경우
1. 상속이 필요한 경우
2. 메모리를 많이 차지하는 경우


### 구조체를 사용해야하는 경우
1. 짧게 생성되고 없어지는 경우
2. 클래스를 사용할 필요가 없는 경우


#### C#에서 힙 메모리는 가비지 컬렉터가 자동으로 메모리를 관리하는데, 이때 클래스에 메모리가 자주 생성되고 없어진다면 가비지 컬렉터가 필요 이상으로 호출되기 때문에 퍼포먼스가 내려가게 되기때문에 구조체를 자주 사용하는 것이 좋다.

#### 하지만 구조체의 경우 스택 메모리가 할당 되고 스택 메모리는 가용 메모리가 작기 때문에 필요한만큼 생성하는 것이 좋다


